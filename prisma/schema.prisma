// Prisma Schema 文件 - 简化版
// 文档: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// ============================================
// 用户表
// ============================================
model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  username  String   @unique
  password  String   // 加密后的密码
  nickname  String?
  avatar    String?  @db.Text  // 头像 URL
  role      Role     @default(USER)
  status    Status   @default(ACTIVE)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("users")
}

// ============================================
// 用户角色枚举
// ============================================
enum Role {
  ADMIN     // 管理员
  USER      // 普通用户
  GUEST     // 访客
}

// ============================================
// 用户状态枚举
// ============================================
enum Status {
  ACTIVE    // 激活
  INACTIVE  // 停用
  BANNED    // 封禁
}
